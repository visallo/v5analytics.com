
  <!DOCTYPE html>

<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
  <meta name="viewport" content="initial-scale=1.0"/>
  <meta name="google-site-verification" content="1-YcF95dwzEK0JxQ6FiiORqBlo-TId1okuDn3JBQm_I" />
  <meta name="robots" content="noodp" />
  

  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
  <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />

  
  <link rel="shortlink" href="/node/18" />
  <link rel="canonical" href="/blog/creating-ontology" />
  

  <link rel="alternate" type="application/rss+xml" title="Visallo RSS" href="/rss.xml" />
  <title>Creating an Ontology</title>


  <style type="text/css" media="all">
    
    @import url("/modules/system/system.base.css");
    @import url("/modules/system/system.theme.css");
    @import url("/sites/all/modules/om_maximenu/css/om_maximenu.css");
    @import url("/sites/all/themes/visallo/style.css");
    @import url("/sites/all/themes/visallo/responsive.css");
    @import url("/css/style.css");
    
  </style>
  <script type="text/javascript" src="/js/zepto.min.js"></script>
  <script>
  $(document).ready(function() {
    // Mobile Menu
    $('#menu-push').on('click', function() {
      $('#block-om-maximenu-om-maximenu-1').toggle();
    });
  });
  </script>
  
  </head>

  <body class="html 
    not-logged-in no-sidebars page-node 
    not-front page-node- page-node-18
    node-type-blog
    ">
    <div id="skip-link">
    <a href="#main" class="element-invisible element-focusable">Skip to main content</a>
  </div>

  
  <div id="header1" style="background-image: url('/img/heroes/default_images/igm1.jpg')">
  <div class="grad">
  

    <div class="bodycon wide ">
      <div class="region region-top-left">
        <div id="block-block-2" class="block block-block">
          <div class="content">
            <p><a href="/"><img alt="" src="/sites/default/files/logo_0.png" style="height:65px; width:291px" /></a></p>
          </div>
        </div>
      </div>

      <div class="region region-top-right">
        <div id="block-om-maximenu-om-maximenu-2" class="block block-om-maximenu">
          <div class="content">
            <div id="om-maximenu-top-menu" class="om-maximenu om-maximenu-no-style om-maximenu-block om-maximenu-row om-maximenu-block-down code-om-u1-1663650974">
              <div id="om-menu-top-menu-ul-wrapper" class="om-menu-ul-wrapper">
                <ul id="om-menu-top-menu" class="om-menu">
                  <li id="om-leaf-om-u1-794790702-7" class="leaf-request-a-demo">
                    <a  class="om-link  link-request-a-demo" href="/contact">Request a Demo</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div id="block-om-maximenu-om-maximenu-1" class="block block-om-maximenu">
          <div class="content">
            <div id="om-maximenu-main-menu" class="om-maximenu om-maximenu-no-style om-maximenu-block om-maximenu-row om-maximenu-block-down code-om-u1-794790702">
              <div id="om-menu-main-menu-ul-wrapper" class="om-menu-ul-wrapper">
                <ul id="om-menu-main-menu" class="om-menu">
                  <li id="om-leaf-om-u1-794790702-9" class="om-leaf first leaf-our-mission ">
                    <a  class="om-link  link-our-mission" href="/our-mission">Our Mission</a>
                  </li>
                  <li id="om-leaf-om-u1-794790702-1" class="om-leaf leaf-product ">
                    <a  class="om-link  link-product" href="/product">Product</a>
                  </li>
                  <li id="om-leaf-om-u1-794790702-2" class="om-leaf leaf-industry-solutions ">
                    <a  class="om-link  link-industry-solutions" href="/industry-solutions"><span class="extra">Industry </span>Solutions</a>
                  </li>
                  <li id="om-leaf-om-u1-794790702-4" class="om-leaf leaf-get-started ">
                    <a  class="om-link  link-get-started" href="/get-started">Get Started</a>
                  </li>
                  <li id="om-leaf-om-u1-794790702-8" class="om-leaf leaf-get-support ">
                    <a  class="om-link link-get-support" href="/support">Support</a>
                  </li>
                  <li id="om-leaf-om-u1-1663650974-3" class="om-leaf leaf-request-a-demo ">
                    <a  class="om-link mobile-only link-request-a-demo" href="/contact">Request a Demo</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div id="block-block-18" class="block block-block">
          <div class="content">
            <p style="margin: 0;"><img src="/sites/default/files/menu-push.png" id="menu-push"></p>
          </div>
        </div>
      </div>

      
    </div>
  </div>
</div>






  
  <div id="main" class="pagesidebar minpad">
    <div class="bodycon inner">
      <div id="scontent">
        <div class="tabs"></div>
        <div class="region region-content">
          <div id="block-system-main" class="block block-system">
            <div class="content">
              <div class="field-name-body">
                
<div id="node-18" class="node node-blog clearfix" about="/blog/creating-ontology" typeof="sioc:Post sioct:BlogPost">
  <div class="content">
    <h1>Creating an Ontology</h1>
    
    <div class="blog-posted">2015-08-07 | <div class="bloglinks"><div class="social-sharing">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.visallo.com%2Fblog%2Fcreating-ontology" 
    target="_blank"><img src="/sites/all/themes/visallo/images/social-fb.png" /></a>
  <a href="https://twitter.com/share?url=https%3A%2F%2Fwww.visallo.com%2Fblog%2Fcreating-ontology"
    target="_blank"><img src="/sites/all/themes/visallo/images/social-twit.png" /></a>
  <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.visallo.com%2Fblog%2Fcreating-ontology&title=Creating%20an%20Ontology&summary=&source=Visallo"
    target="_blank"><img src="/sites/all/themes/visallo/images/social-li.png" /></a>
</div>
</div>	</div>
    
    <div class="field field-name-body field-type-text-with-summary field-label-hidden">
      <div class="field-items">
        <div class="field-item" property="content:encoded">
          
<p>Visallo requires an ontology to work. The ontology drives how searches are performed, how data is saved, and how the users interact with that data. So it’s crucial to get the ontology right before you create lots of data or tools to import data. This post is going to walk through the basics of creating an ontology using <a href="http://protege.stanford.edu/">Protégé</a>.</p>
<p>When Visallo starts for the first time it reads the ontology represented in OWL files. <a href="http://www.wikiwand.com/en/Web_Ontology_Language">OWL files</a> are XML files describing the types of objects, the properties on those objects, and the relationships that objects can have with other objects. Ontologies and OWL files have a different vocabulary that most people will not be familiar with, here is a list of just a few and what they mean to Visallo.</p>
<ul>
<li><strong>IRI</strong> - IRIs look like URIs and serve as unique identifiers for classes, properties, and relationships.</li>
<li><strong>Class</strong> - Similar to a class in java, classes describe an object. In Visallo every vertex or node on the graph is assigned a class via the <code><a href="http://visallo.org#conceptType">http://visallo.org#conceptType</a></code> property. Examples of classes are person, organization, document.</li>
<li><strong>Datatype Property</strong> - Properties or attributes of a class. Datatype properties can belong to many classes but can only have one type. Examples of datatype properties are birth date, gender, amount.</li>
<li><strong>Object Property</strong> - Relationships or edges a class can have with another class. Object properties can have many possible source classes and destination classes. Examples of object properties are employs, parent of, sibling.</li>
<li><strong>Domain</strong> - For datatype properties, the domains describe which classes the property can belong to. For object proprties the domain describes the out side of the relationship. For example, if a person has a phone, the person class is the domain of the “has” object property.</li>
<li><strong>Range</strong> - For datatype properties, the range describes the type of the property (eg. string, integer). For object properties the range represents the in side of the relationship. Using the person has a phone example the phone class would be the range of the “has” object property.</li>
<li><strong>Label</strong> - This is the display value of the class, property, or relationship. The label is what is displayed on the UI.</li>
</ul>
<p>Visallo has extended the OWL format to include some additional attributes. These attributes can help the system determine how to index the values, how the user interacts with those object, etc. For a list of these you can look at the Visallo <a href="https://github.com/v5analytics/visallo/blob/master/docs/ontology.md">ontology documentation</a>.</p>
<p>Now that we have the terminology out of the way, lets create a simple ontology.<br />
<img src="/sites/default/files/ontology.png" alt="Ontology"></p>
<p>To get us started with our OWL file we’ll copy an existing OWL file from the Visallo project. The <a href="https://github.com/v5analytics/visallo/blob/master/examples/ontology-minimal/minimal.owl">minimal.owl</a> file contains some classes, properties, and relationships required by Visallo. Create a new directory and move all the files from the minimal.owl’s directory then rename minimal.owl to simple.owl. The newly renamed simple.owl file has many IRIs with visallo and minimal in the name. We can change all of these to our custom IRI if you would like. Open simple.owl in an editor and replace all <code><a href="http://visallo.org/minimal">http://visallo.org/minimal</a></code> with <code><a href="http://yourdomain.com/simple">http://yourdomain.com/simple</a></code>.</p>
<p>Now lets open simple.owl in <a href="http://protege.stanford.edu/">Protégé</a>. To do this we first have to open Visallo’s <a href="https://github.com/v5analytics/visallo/blob/master/core/core/src/main/resources/org/visallo/core/model/ontology/base.owl">base.owl</a> to tell Protégé about Visallo’s custom extensions to the OWL format. After that we can open our simple.owl file. When prompted to open in the same window answer yes, this will allow our simple.owl to reference the already loaded base.owl file. Protégé should now look like this.<br />
<img src="/sites/default/files/protege-loaded.jpg" style="max-width: 100%" alt="Ontology"></p>
<p>Next lets add our employee and organization classes. To do this we click the entities tab. Expanding the class hierarchy we’ll see the Visallo required classes raw, audio, document, image, and video. Our employee and organization classes will both use a parent of thing. Click thing, then click the add subclass button. Type “employee” in the name field and click OK. We also need a display name, to add the display name to employee, click employee, then click the “+” next to annotations and select “rdfs:label” and type in a display name such as “Employee”. Repeat the process for “organization”.</p>
<p>Now lets add the “employs” relationship. To do this click the “object property hierarchy” tab in the bottom left part of the interface. This will bring of the hierarchy of relationships. Click the “owl:topObjectProperty”, then the add subproperty button <img src="/sites/default/files/protege-add-subobjectproperty.jpg" alt="subproperty button">. Type “employs” in the name field and click OK. To hook up the “employs” relationships with our employee and organization we’ll need to add the domain and range. Click the “employs” relationship then click the “+” next to domain, find “organization” in the hierarchy and click OK. Then click the “+” next to range and do the same for “employee”.</p>
<p>Finally lets add some properties to our organization and employee classes. To do this click the “data property hierarchy” tab in the bottom left part of the interface. Click the “owl:topObjectProperty”, then the add subproperty button <img src="/sites/default/files/protege-add-subobjectproperty.jpg" alt="subproperty button">. Type “name” in the name field and click OK. To attach the property to both our employee and organization click the “+” next to domain, find and add “organization”. Then repeat for “employee”. Finally we’ll want to assign a type to name. Click the “+” next to range, click the “Built in datatypes” tab and find “string” and click OK.</p>
<p>At this point our simple ontology is ready to try out in Visallo. We need to tell Visallo about it. While developing an ontology it is also nice to use the in memory ontology so we iterate over the changes faster. Add the following lines to the end of your visallo.properties file.</p>
<pre><code class="hljs">repository.ontology=org<span class="hljs-class">.visallo</span><span class="hljs-class">.vertexium</span><span class="hljs-class">.model</span><span class="hljs-class">.ontology</span><span class="hljs-class">.InMemoryOntologyRepository</span>
repository<span class="hljs-class">.ontology</span><span class="hljs-class">.owl</span><span class="hljs-class">.simple</span><span class="hljs-class">.iri</span>=http:<span class="hljs-comment">//yourdomain.com/simple</span>
repository<span class="hljs-class">.ontology</span><span class="hljs-class">.owl</span><span class="hljs-class">.simple</span><span class="hljs-class">.file</span>=/home/jferner/dev/ontology-simple/simple.owl</code></pre><p>Now when you start Visallo and create an entity you should see your new employee and organization classes.</p>
<p><img src="/sites/default/files/visallo-with-simple-owl.jpg" alt="Visallo with simple.owl loaded"></p>



        </div>
      </div>
    </div>
  </div>
</div>
<div class="bloglinks">
  <a id="post-back" href="/blog">Back to Main Blog</a>
</div>  

              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="right">
        <div class="region region-right">
          
            <div id="block-block-1" class="block block-block">
  <div class="content">
    <p><a href="https://www.youtube.com/channel/UCfPg6w7f2ZZCF9LnMxY3oAw" target="_blank"><img alt="" src="/img/watch-demo.png" style="height:97px; width:250px"></a></p>
  </div>
</div>

            <div id="block-webform-client-block-20" class="block block-webform">
  <div class="content">
    <div class="node node-webform clearfix" typeof="sioc:Item foaf:Document">
      <h2>Stay Posted</h2>
      <span property="dc:title" content="Stay Posted" class="rdf-meta element-hidden"></span>

      <div class="content">
        <div class="field field-name-body field-type-text-with-summary field-label-hidden">
          <div class="field-items">
            <div class="field-item even" property="content:encoded">
              <p>Subscribe for Updates and Insights</p>
            </div>
          </div>
        </div>
        <form target="_blank" class="webform-client-form webform-client-form-20" enctype="multipart/form-data" action="https://visallo.us13.list-manage.com/subscribe/post?u=cdc384fdf1226d9fb0b0884cd&amp;id=bde98f5df6" method="post" id="webform-client-form-20" accept-charset="UTF-8">
          <div>
            <div class="form-item webform-component webform-component-email webform-component--email-address">
              <label class="element-invisible" for="edit-submitted-email-address">email address <span class="form-required" title="This field is required.">*</span></label>
              <input required="required" class="email form-text form-email required" type="email" id="edit-submitted-email-address" name="EMAIL" placeholder="email address" size="60" />
              <input type="hidden" name="utf8" value="✓">
            </div>
            <div class="form-actions"><input class="webform-submit button-primary form-submit" type="submit" value="OK" /></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

          
        </div>
      </div>
    </div>
  </div>
  

  
  <div id="lower">
    <div class="bodycon inner">
      
    </div>
  </div>
  

  
  <div id="region">
    <div class="bodycon inner">
      
    </div>
  </div>
  

  
  <div id="footer1">
  <div class="minpad">
    <div class="bodycon inner">
      <div class="region region-footer-1">
        <div id="block-block-3" class="block block-block">
          <div class="content">
            <div class="want" style="font-size:36px"><strong>WANT MORE?</strong></div>
            <strong><span style="font-size:18px"><a href="/contact">REQUEST A DEMO</a></span></strong> <strong><span style="font-size:18px"><a href="/our-mission">EXPLORE OUR COMPANY</a></span></strong>  </div>
        </div>
      </div>
    </div>
  </div>
</div>

  


    

<div id="footer2">
  <div class="minpad">	
    <div class="bodycon inner">
      <div class="region region-footer-2-left">
        <div id="block-block-4" class="block block-block">

          <h2>QUICK LINKS</h2>

          <div class="content">
            <ul>
              <li><a href="/product">Product</a></li>
              <li><a href="/industry-solutions">Industry Solutions</a></li>
              <li><a href="/support">Support</a></li>
              <li><a href="/what-can-we-do-for-you">Services</a></li>
              <li><a href="/training">Training</a></li>
              <li><a href="/blog">Our Blog</a></li>
              <li><a href="http://docs.visallo.org" target="_blank">Open Source</a></li>
            </ul>
            <p><span style="font-size:14px"><strong><a href="/contact"><span style="color:#76d4f8">REQUEST A DEMO</span></a></strong></span></p>
          </div>
        </div>
        <div id="block-block-20" class="block block-block">


          <div class="content">
            <script>if (window.location.toString().indexOf('localhost:') == -1) {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-63006144-2', 'auto');
ga('send', 'pageview');
}
            </script>
          </div>
        </div>
      </div>
      <div class="region region-footer-2-center">
        <div id="block-webform-client-block-3" class="block block-webform">
          <h2>Stay Posted</h2>
          <div class="content">
            <div class="node node-webform clearfix" typeof="sioc:Item foaf:Document">
              <div class="content">
                <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Subscribe for Updates and Insights</p>
                    </div></div></div><div id="webform-ajax-wrapper-3"><form class="webform-client-form webform-client-form-3" enctype="multipart/form-data" action="https://visallo.us13.list-manage.com/subscribe/post?u=cdc384fdf1226d9fb0b0884cd&amp;id=bde98f5df6" target="_blank" method="post" id="webform-client-form-3" accept-charset="UTF-8"><div><div  class="form-item webform-component webform-component-email webform-component--email-address">
                            <label class="element-invisible" for="edit-submitted-email-address">email address <span class="form-required" title="This field is required.">*</span></label>
                            <input required="required" class="email form-text form-email required" type="email" id="edit-submitted-email-address" name="EMAIL" placeholder="email address" size="60" />
                            <input type="hidden" name="utf8" value="✓">
                          </div><div class="form-actions"><input class="webform-submit button-primary form-submit" type="submit" id="edit-webform-ajax-submit-3" value="OK" /></div></div></form></div>  </div>



            </div>
          </div>
        </div>
        <div id="block-block-5" class="block block-block">


          <div class="content">
            <p><a href="https://twitter.com/v5visallo" target="_blank"><img alt="" src="/sites/default/files/fs1.png" style="height:22px; margin-right:20px; vertical-align:middle; width:27px" /></a> <a href="https://github.com/v5analytics" target="_blank"><img alt="" src="/sites/default/files/fs2.png" style="height:24px; margin-right:20px; vertical-align:middle; width:29px" /></a> <a href="https://www.facebook.com/v5visallo/?fref=ts" target="_blank"><img alt="" src="/sites/default/files/fs3.png" style="margin-right:20px; vertical-align:middle" /></a> <a href="https://www.linkedin.com/company/10478753" target="_blank"><img alt="" src="/sites/default/files/fs4.png" style="vertical-align:middle" /></a></p>
          </div>
        </div>
      </div>
      <div class="region region-footer-2-right">
        <div id="block-block-6" class="block block-block">

          <h2>CONNECT WITH VISALLO</h2>

          <div class="content">
            <p><a href="https://visallo-public-slack.herokuapp.com/"><span style="position:relative; top:2px;">Visallo on</span> <img alt="Slack" src="/sites/default/files/slack-dark-logo.png" style="height:20px; vertical-align:middle; width:68px" /></a></p>
            <p>44345 Premier Plaza, No. 200<br />
            Ashburn, VA 20147</p>
            <p>(844) 847-2556 | <a href="/contact">CONTACT</a></p>
          </div>
        </div>
        <div id="block-views-footer-blog-block" class="block block-views">

          <h2><a href="/blog">From the Blog</a></h2>

          <div class="content">
            <div class="view view-footer-blog view-id-footer_blog view-display-id-block view-dom-id-47e690d4e7c07269cc405531c10d1796">
              <div class="view-content">
                
                <div class="views-row">
                  <div class="views-field views-field-title"> 
                    <span class="field-content"><a href="/blog/visallo-2.0">Visallo 2.0 Released</a></span> 
                  </div>
                </div>
                
                <div class="views-row">
                  <div class="views-field views-field-title"> 
                    <span class="field-content"><a href="/blog/processing-big-data-heres-how-we-do-it">Processing Big Data: Here is How We Do It</a></span> 
                  </div>
                </div>
                
                <div class="views-row">
                  <div class="views-field views-field-title"> 
                    <span class="field-content"><a href="/blog/what-can-your-company-do-visallo-data-insights">What Can Your Company Do with Visallo Data Insights?</a></span> 
                  </div>
                </div>
                
                <div class="views-row">
                  <div class="views-field views-field-title"> 
                    <span class="field-content"><a href="/blog/webinar-discover-hidden-relationships-through-power-link-analysis-feat-six-degrees-kevin-bacon">Webinar: Discover Hidden Relationships through the Power of Link Analysis feat. the Six Degrees of Kevin Bacon</a></span> 
                  </div>
                </div>
                
              </div>
            </div> 
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>



